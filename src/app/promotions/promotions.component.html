<div class="promotions-page">
  <!-- Header avec logo et navigation -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <!-- Logo avec image rÃ©elle -->
        <a href="#" class="logo">
          <div class="logo-icon">
            <img src="https://cdn-icons-png.flaticon.com/512/2910/2910768.png" alt="Maktabaty Logo" style="width: 30px; height: 30px;">
          </div>
          <span class="logo-text">Maktabaty</span>
        </a>
        
        <!-- Barre de recherche dans le header -->
        <div class="header-search">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Rechercher une promotion..." [(ngModel)]="searchQuery" (input)="onSearch()">
          </div>
          <div class="search-suggestions" *ngIf="showSuggestions && searchSuggestions.length > 0">
            <div class="suggestion-item" *ngFor="let suggestion of searchSuggestions" (click)="selectSuggestion(suggestion)">
              {{suggestion}}
            </div>
          </div>
        </div>
        
        <nav>
          <ul class="nav-menu">
            <li><a href="#">Accueil</a></li>
          
          
            <li><a href="#">Fournitures</a></li>
            <li><a href="#">CatÃ©gories</a></li>
          </ul>
        </nav>
        
        <div class="header-actions">
          <!-- Boutons Connexion/Inscription -->
          <div class="auth-buttons">
            <button class="btn-login" (click)="openLogin()">
              <i class="fas fa-sign-in-alt"></i>
              Connexion
            </button>
            <button class="btn-signup" (click)="openSignup()">
              <i class="fas fa-user-plus"></i>
              Inscription
            </button>
          </div>
          
          <div class="header-action-item">
            <i class="fas fa-search search-toggle" (click)="toggleSearch()"></i>
          </div>
          <div class="header-action-item">
            <i class="fas fa-user"></i>
          </div>
          <div class="header-action-item cart" (click)="toggleCart()">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-badge" *ngIf="cartCount > 0">ğŸ›’{{cartCount}}</span>
          </div>
          <div class="header-action-item">
            <i class="fas fa-heart"></i>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- BanniÃ¨re de promotions -->
  <section class="promo-hero">
    <div class="container">
      <div class="promo-hero-content">
        <div class="promo-hero-text">
          <h1>PROMOTIONS EXCEPTIONNELLES ğŸ‰</h1>
          <p>Jusqu'Ã  -70% sur une sÃ©lection de livres et fournitures scolaires ğŸ“šâœ¨</p>
          <div class="promo-countdown">
            <div class="countdown-item">
              <span class="countdown-number">{{countdown.days}}</span>
              <span class="countdown-label">Jours ğŸ“…</span>
            </div>
            <div class="countdown-item">
              <span class="countdown-number">{{countdown.hours}}</span>
              <span class="countdown-label">Heures â°</span>
            </div>
            <div class="countdown-item">
              <span class="countdown-number">{{countdown.minutes}}</span>
              <span class="countdown-label">Minutes â±ï¸</span>
            </div>
          </div>
        </div>
        <div class="promo-hero-image">
          <div class="promo-badge-large">
            <span>DISCOUNT</span>
            <span>RENTREE</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Filtres -->
  <section class="filters-section">
    <div class="container">
      <div class="filters-content">
        <div class="filter-group">
          <h3>Trier par:</h3>
          <div class="filter-options">
            <button class="filter-btn" [class.active]="activeSort === 'relevance'" (click)="setActiveSort('relevance')">Pertinence ğŸ”</button>
            <button class="filter-btn" [class.active]="activeSort === 'price-asc'" (click)="setActiveSort('price-asc')">Prix croissant ğŸ“ˆ</button>
            <button class="filter-btn" [class.active]="activeSort === 'price-desc'" (click)="setActiveSort('price-desc')">Prix dÃ©croissant ğŸ“‰</button>
            <button class="filter-btn" [class.active]="activeSort === 'discount-desc'" (click)="setActiveSort('discount-desc')">Meilleures promos ğŸ”¥</button>
            <button class="filter-btn" [class.active]="activeSort === 'rating-desc'" (click)="setActiveSort('rating-desc')">Meilleures notes â­</button>
          </div>
        </div>
        
        <div class="filter-group">
          <h3>Filtrer par catÃ©gorie:</h3>
          <div class="filter-options">
            <button class="filter-btn" [class.active]="activeCategory === 'all'" (click)="setActiveCategory('all')">Toutes ğŸŒŸ</button>
            <button class="filter-btn" [class.active]="activeCategory === 'books'" (click)="setActiveCategory('books')">Livres ğŸ“–</button>
            <button class="filter-btn" [class.active]="activeCategory === 'supplies'" (click)="setActiveCategory('supplies')">Fournitures âœï¸</button>
            <button class="filter-btn" [class.active]="activeCategory === 'packs'" (click)="setActiveCategory('packs')">Packs ğŸ’</button>
          </div>
        </div>
        
        <div class="filter-group">
          <h3>Filtrer par prix:</h3>
          <div class="filter-options">
            <button class="filter-btn" [class.active]="activePrice === 'all'" (click)="setActivePrice('all')">Tous les prix ğŸ’°</button>
            <button class="filter-btn" [class.active]="activePrice === 'under10'" (click)="setActivePrice('under10')">Moins de 10â‚¬</button>
            <button class="filter-btn" [class.active]="activePrice === '10-25'" (click)="setActivePrice('10-25')">10â‚¬ - 25â‚¬</button>
            <button class="filter-btn" [class.active]="activePrice === '25-50'" (click)="setActivePrice('25-50')">25â‚¬ - 50â‚¬</button>
            <button class="filter-btn" [class.active]="activePrice === 'over50'" (click)="setActivePrice('over50')">Plus de 50â‚¬</button>
          </div>
        </div>
        
        <div class="filter-group">
          <h3>Filtrer par rÃ©duction:</h3>
          <div class="filter-options">
            <button class="filter-btn" [class.active]="activeDiscount === 'all'" (click)="setActiveDiscount('all')">Toutes ğŸ¯</button>
            <button class="filter-btn" [class.active]="activeDiscount === '20'" (click)="setActiveDiscount('20')">-20%</button>
            <button class="filter-btn" [class.active]="activeDiscount === '30'" (click)="setActiveDiscount('30')">-30%</button>
            <button class="filter-btn" [class.active]="activeDiscount === '50'" (click)="setActiveDiscount('50')">-50%</button>
            <button class="filter-btn" [class.active]="activeDiscount === '70'" (click)="setActiveDiscount('70')">-70%</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Produits en Promotion -->
  <section class="promo-products-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Produits en Promotion ğŸ”¥</h2>
        <div class="results-count">{{filteredProductsCount}} produits trouvÃ©s ğŸ¯</div>
      </div>
      
      <div class="promo-products-grid">
        <!-- Produits affichÃ©s avec pagination -->
        <div class="promo-product-card" *ngFor="let product of displayedProducts" [class.animate-in]="true">
          <div class="promo-badge">-{{product.discount}}% ğŸ’°</div>
          <div class="time-left">
            <i class="fas fa-clock"></i>
            <span>Fin dans {{product.timeLeft}} â³</span>
          </div>
          <div class="product-image">
            <img [src]="product.image" [alt]="product.title" (error)="handleImageError($event)">
          </div>
          <div class="product-info">
            <h3 class="product-title">{{product.title}}</h3>
            <p class="product-author">{{product.author}}</p>
            <div class="product-rating">
              <div class="stars">
                <i class="fas fa-star" *ngFor="let star of [1,2,3,4,5]" 
                   [class.active]="star <= product.rating"></i>
              </div>
              <span class="rating-count">({{product.reviews}})</span>
            </div>
            <div class="product-price">
              <span class="current-price">{{formatPrice(product.price)}}â‚¬</span>
              <span class="original-price" *ngIf="product.originalPrice">{{formatPrice(product.originalPrice)}}â‚¬</span>
            </div>
            <button class="add-to-cart-btn" (click)="addToCart(product, $event)">
              ğŸ›’ Ajouter au panier
            </button>
          </div>
        </div>
      </div>
      
      <!-- Pagination -->
      <div class="pagination" *ngIf="totalPages > 1">
        <button class="pagination-btn" (click)="previousPage()" [disabled]="currentPage === 1">
          <i class="fas fa-chevron-left"></i> PrÃ©cÃ©dent
        </button>
        
        <button class="pagination-btn" *ngFor="let page of getPageNumbers()" 
                [class.active]="page === currentPage"
                (click)="goToPage(page)">
          {{page}}
        </button>
        
        <button class="pagination-btn next" (click)="nextPage()" [disabled]="currentPage === totalPages">
          Suivant <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>
  </section>

  <!-- Section Newsletter -->
  <section class="newsletter-section">
    <div class="container">
      <div class="newsletter-banner">
        <div class="newsletter-content">
          <h2>Ne manquez aucune promotion ! ğŸ“§</h2>
          <p>Inscrivez-vous Ã  notre newsletter et soyez le premier informÃ© de nos offres exclusives ğŸ</p>
          <div class="newsletter-form">
            <input type="email" placeholder="Votre adresse email âœ‰ï¸" [(ngModel)]="newsletterEmail">
            <button class="btn btn-newsletter" (click)="subscribeNewsletter()">S'abonner ğŸš€</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="main-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Maktabaty ğŸ“š</h3>
          <p>Votre librairie en ligne de confiance. Nous nous engageons Ã  vous offrir les meilleurs livres et fournitures. âœ¨</p>
          <div class="social-links">
            <a href="#" title="Facebook">
              <img src="https://cdn-icons-png.flaticon.com/512/124/124010.png" alt="Facebook" style="width: 24px; height: 24px;">
            </a>
            <a href="#" title="Instagram">
              <img src="https://cdn-icons-png.flaticon.com/512/174/174855.png" alt="Instagram" style="width: 24px; height: 24px;">
            </a>
            <a href="#" title="LinkedIn">
              <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" alt="LinkedIn" style="width: 24px; height: 24px;">
            </a>
            <a href="#" title="Pinterest">
              <img src="https://cdn-icons-png.flaticon.com/512/174/174863.png" alt="Pinterest" style="width: 24px; height: 24px;">
            </a>
          
          </div>
        </div>
        
        <div class="footer-section">
          <h4>Liens rapides ğŸ”—</h4>
          <ul>
            <li><a href="#">Accueil ğŸ </a></li>
            <li><a href="#" class="active">Promotions ğŸ”¥</a></li>
            <li><a href="#">Livres ğŸ“–</a></li>
            <li><a href="#">Fournitures âœï¸</a></li>
            <li><a href="#">CatÃ©gories ğŸ“š</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>Mon compte ğŸ‘¤</h4>
          <ul>
            <li><a href="#">Connexion ğŸ”‘</a></li>
            <li><a href="#">Inscription ğŸ“</a></li>
            <li><a href="#">Mes commandes ğŸ“¦</a></li>
            <li><a href="#">Mes favoris â¤ï¸</a></li>
            <li><a href="#">ParamÃ¨tres âš™ï¸</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>Contact ğŸ“</h4>
          <ul>
            <li><i class="fas fa-map-marker-alt"></i> 123 Rue de la Lecture, Paris ğŸ—ºï¸</li>
            <li><i class="fas fa-phone"></i> +33 1 23 45 67 89 ğŸ“±</li>
            <li><i class="fas fa-envelope"></i> contact@maktabaty.fr âœ‰ï¸</li>
          </ul>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div class="payment-methods">
          <img src="https://cdn-icons-png.flaticon.com/512/179/179457.png" alt="Visa" style="width: 40px; height: 25px;">
          <img src="https://cdn-icons-png.flaticon.com/512/179/179459.png" alt="Mastercard" style="width: 40px; height: 25px;">
          <img src="https://cdn-icons-png.flaticon.com/512/179/179457.png" alt="PayPal" style="width: 40px; height: 25px;">
          <img src="https://cdn-icons-png.flaticon.com/512/888/888871.png" alt="Apple Pay" style="width: 40px; height: 25px;">
          <img src="https://cdn-icons-png.flaticon.com/512/888/888870.png" alt="Google Pay" style="width: 40px; height: 25px;">
        </div>
        <div class="footer-copyright">
          <p>&copy; 2024 Maktabaty. Tous droits rÃ©servÃ©s. ğŸ“š</p>
          <div class="legal-links">
            <a href="#">Mentions lÃ©gales âš–ï¸</a>
            <a href="#">Politique de confidentialitÃ© ğŸ”’</a>
            <a href="#">CGV ğŸ“„</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Cart Sidebar -->
  <div class="cart-overlay" [class.active]="cartOpen" (click)="toggleCart()"></div>
  <div class="cart-sidebar" [class.active]="cartOpen">
    <div class="cart-header">
      <h3>Mon Panier ğŸ›’</h3>
      <button class="close-cart" (click)="toggleCart()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="cart-content">
      <div class="cart-items" *ngIf="cartItems.length > 0">
        <div class="cart-item" *ngFor="let item of cartItems">
          <div class="item-image">
            <img [src]="item.image" [alt]="item.name" (error)="handleImageError($event)">
          </div>
          <div class="item-details">
            <div class="item-name">{{item.name}}</div>
            <div class="item-price">{{formatPrice(item.price)}}â‚¬ ğŸ’°</div>
            <div class="item-quantity">
              <button class="quantity-btn" (click)="decreaseQuantity(item)">-</button>
              <span class="quantity">{{item.quantity}}</span>
              <button class="quantity-btn" (click)="increaseQuantity(item)">+</button>
            </div>
          </div>
          <button class="remove-item" (click)="removeFromCart(item)">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
      <div class="empty-cart" *ngIf="cartItems.length === 0">
        <i class="fas fa-shopping-cart"></i>
        <p>Votre panier est vide ğŸ˜”</p>
        <p>Profitez de nos promotions ! ğŸ</p>
      </div>
    </div>
    <div class="cart-footer" *ngIf="cartItems.length > 0">
      <div class="cart-total">
        <span>Total:</span>
        <span class="total-price">{{formatPrice(cartTotal)}}â‚¬ ğŸ’³</span>
      </div>
      <button class="btn-checkout" (click)="checkout()">Commander maintenant ğŸš€</button>
    </div>
  </div>
</div>